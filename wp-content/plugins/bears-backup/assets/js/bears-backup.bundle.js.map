{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/modules/helpers.js","webpack:///./assets/js/modules/demo-content.js","webpack:///./assets/js/bears-backup.js","webpack:///./assets/js/modules/backup.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","jQuery","noConflict","_async","_f","Promise","resolve","reject","this","[object Object]","opts","_o","extend","type","url","bbackup_object","ajax_url","data","success","error","e","console","log","ajax","w","window","ELEMENT","locale","lang","en","bbackup_helpers","Vue","el","backup_data","sort_data","prop","order","step_bar_conf","space","active","process_completed","table_bbackup_loading_st","process_type","ajax_handle","row_in_process","new_folder_backup","package_import","bbackup_upload_filelist","fullscreenLoading","LoadBackupData","watch","step","self","setTimeout","computed","width","methods","row","_classes","push","join","backup_folder","_request","action","handle","params","res","st","$notify","title","message","offset","rows","set","location","assign","backup_path_file","event","Current_Processes","BK_Folder_Name","Backup_Processes","bk_folder_name","Backup_Step_By_Step","On_Start","On_After_Success","progress","On_Error","file","fileList","duration","MoveExtractBackupFile","backup","load"],"mappings":"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","file":"bears-backup.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","var $  = jQuery.noConflict();\n\nmodule.exports = {\n  _async(_f) {\n    return new Promise( function(resolve, reject){\n      _f.call(this, resolve, reject);\n    } );\n  },\n  _request (opts) {\n    var _o = $.extend({\n      type: 'POST',\n      url: bbackup_object.ajax_url,\n      data: {},\n      success: function() { return; },\n      error: function(e) { console.log( 'error: ' + e ); },\n    }, opts);\n\n    return $.ajax(_o);\n  },\n}\n","/**\n * @package Bears Demo content\n * Demo content panel script\n */\n\n\nexport default function() {\n\n}\n","/**\n * @package Bears Demo Content\n * @version 1.0.0\n * @author Bearsthemes\n */\n\nimport DemoContent from \"./modules/demo-content\";\nimport Backup from \"./modules/backup\";\n// import '../css/main.scss';\n\n!(function(w, $) {\n  \"use strict\";\n  ELEMENT.locale(ELEMENT.lang.en);\n\n  // Helpers\n  w.bbackup_helpers = require(\"./modules/helpers\");\n\n  // DOM Ready\n  $(function() {\n    new Vue(Backup());\n  });\n\n  // Browser load complete\n  $(w).load(function() {}); \n})(window, jQuery);\n","/**\n * @package Bears Demo content\n * Backup panel script\n */\n\nexport default function () {\n  var $ = jQuery.noConflict();\n  var ajax_url = bbackup_object.ajax_url;\n  \n  return {\n    el: '#bbackup-backup-panel',\n    data () {\n      return {\n        backup_data: [],\n        sort_data: {\n          prop: 'name',\n          order: 'descending',\n        },\n        step_bar_conf: {\n          space: 200,\n          active: 0,\n          process_completed: 0,\n        },\n        table_bbackup_loading_st: false,\n        process_type: '',\n        ajax_handle: false,\n        row_in_process: {},\n        new_folder_backup: '',\n        package_import: false,\n        bbackup_upload_filelist: [],\n        fullscreenLoading: false,\n      };\n    },\n    created (el) {\n      this.LoadBackupData();\n    },\n    watch: {\n      'step_bar_conf.active' (step) {\n        var self = this;\n        if( self.process_type == '' ) return;\n\n        switch(self.process_type) {\n          case 'backup':\n            if(step >= 4){\n              setTimeout(function() { self.process_type = ''; }, 5000);\n            }\n            break;\n\n          case 'upload': \n            if(step >= 3){\n              setTimeout(function() { self.process_type = ''; }, 5000);\n            }\n            break;\n        }\n      }\n    },\n    computed: {\n      style_process_completed () {\n        return {\n          width: this.step_bar_conf.process_completed + '%',\n        };\n      },\n    },\n    methods:{\n      TableRowClassName(row) {\n        var _classes = [];\n\n        if( this.new_folder_backup == row.name ) _classes.push( 'is-new-row' );\n        if( row == this.row_in_process ) _classes.push( 'is-process-row' );\n\n        return _classes.join(' ');\n      },\n      DeleteItem(row) {\n        var self = this;\n        var backup_folder = row.name;\n\n        this.row_in_process = row;\n\n        window.bbackup_helpers._request({\n          data: { action: 'BBACKUP_Ajax_Handle', handle: 'BBACKUP_Delete_Folder_Backup', params: { backup_folder: backup_folder  } },\n          success (res) {\n            console.log(res);\n\n            if(res.st == 'OK') {\n              self.$notify({ title: 'Success', message: res.message, type: 'success', offset: 100 });\n              self.LoadBackupData();\n            } else {\n              self.$notify.error({ title: 'Error', message: res.message, offset: 100 });\n            }\n          }\n        })\n      },\n      DownloadBackup (row, rows) {\n        var self = this;\n        this.row_in_process = row;\n\n        window.bbackup_helpers._request({\n          data: { action: 'BBACKUP_Ajax_Handle', handle: 'BBACKUP_Download_Backup', params: row },\n          success (res) {\n            Vue.set(self, 'row_in_process', {});\n\n            if(res.success) {\n              window.location.assign(res.data.backup_path_file);\n            } else {\n              console.log('fail!!!');\n            }\n          },\n        })\n      },\n      LoadBackupData () {\n        var self = this;\n        this.table_bbackup_loading_st = true;\n        window.bbackup_helpers._request({\n          data: { action: 'BBACKUP_Ajax_Handle', handle: 'BBACKUP_Load_Backup_Data' },\n          success (res) {\n            self.table_bbackup_loading_st = false;\n            self.backup_data = res;\n          },\n        })\n      },\n      StepDisplay (type) {\n        return type == this.process_type;\n      },\n      BackupData (event) {\n        var self = this;\n        var Current_Processes = 0;\n        var BK_Folder_Name = '';\n        var Has_Error = false;\n\n        this.process_type = 'backup';\n\n        var Backup_Processes = [\n          {\n            handle: 'BBACKUP_Backup_Database',\n            params: { package_import: self.package_import },\n            On_Start () {\n              // reset step bar\n              self.step_bar_conf.active = 0;\n              self.step_bar_conf.process_completed = 0;\n            },\n            On_After_Success (res) { \n              BK_Folder_Name = res.bk_folder_name;\n              Backup_Processes[Current_Processes+1].params.bk_folder_name = BK_Folder_Name;\n\n              console.log( 'Backup database!' );\n            },\n            On_Error () {\n              console.log('fail!!!');\n              self.$notify.error({ title: 'Error', message: 'Backup databse fail!', offset: 100 });\n            },\n          },\n          {\n            handle: 'BBACKUP_Create_File_Config',\n            params: {},\n            On_After_Success (res) {\n              Backup_Processes[Current_Processes+1].params.bk_folder_name = BK_Folder_Name;\n              console.log( 'Create file config.json!' );\n            },\n            On_Error () {\n              console.log('fail!!!');\n              self.$notify.error({ title: 'Error', message: 'Create file config.json fail!', offset: 100 });\n            },\n          },\n          {\n            handle: 'BBACKUP_Backup_Folder_Upload',\n            params: {},\n            On_After_Success (res) {\n              console.log( 'Backup folder Uploads!' );\n              // setTimeout(function() { self.process_type = ''; }, 5000);\n            },\n            On_Error () {\n              console.log('fail!!!');\n              self.$notify.error({ title: 'Error', message: 'Backup folder Uploads fail!', offset: 100 });\n            },\n          },\n          {\n            ajax: false,\n            action () {\n              setTimeout(function() {\n                var message = 'Backup success!';\n                console.log( message );\n\n                self.step_bar_conf.active = 4;                // finish (step 4)\n                self.step_bar_conf.process_completed = 100;   // 100% process (backup success)\n                self.new_folder_backup = BK_Folder_Name;\n\n                self.LoadBackupData();\n\n                self.$notify({ title: 'Success', message: message, type: 'success', offset: 100 });\n              }, 2000)\n            },\n          }\n        ];\n\n        var Backup_Step_By_Step = function(opts) {\n          var data = $.extend({\n            ajax: true,\n            action: 'BBACKUP_Ajax_Handle',\n            handle: '',\n            On_Start () {},\n            On_After_Success () {},\n            On_Error () {},\n          }, opts);\n\n          var _f = {\n            NextStep () {\n              Current_Processes += 1;\n              Backup_Step_By_Step(Backup_Processes[Current_Processes]);\n            },\n          };\n\n          data.On_Start.call(null);\n\n          if(data.ajax != true) { data.action.call(_f); return; }\n\n          window.bbackup_helpers._request({\n            data: { action: data.action, handle: data.handle, params: data.params },\n            success (res) {\n              if(res.st != 'OK') {\n                Has_Error = true;\n                if(data.On_Error) data.On_Error.call(this, res);\n                return;\n              }\n\n              if(data.On_After_Success) data.On_After_Success.call(this, res);\n\n              Current_Processes += 1;\n              self.step_bar_conf.active = Current_Processes;\n              self.step_bar_conf.process_completed = res.progress;\n              if(Backup_Processes[Current_Processes]) Backup_Step_By_Step(Backup_Processes[Current_Processes]);\n            }\n          });\n        }\n        Backup_Step_By_Step(Backup_Processes[Current_Processes]);\n      },\n      BeforUploadBackup\t() {\n        // set process type\n        this.process_type = 'upload';\n\n        // reset step bar\n        this.step_bar_conf.active = 0;\n        this.step_bar_conf.process_completed = 0;\n      },\n      SubmitUploadBackup (event) {\n        var self = this;\n      },\n      UploadBackupSuccess (res, file, fileList) {\n        var self = this;\n\n        if(res.success == true) {\n          if(res.data.error) {\n            // has error\n            self.$notify({ title: 'Error', message: res.data.error, type: 'error', offset: 100, duration: 5000 });\n            return;\n          }\n\n          // set step bar\n          self.step_bar_conf.active = 1;\n          self.step_bar_conf.process_completed = 30;\n\n          // clear file list\n          Vue.set(self, 'bbackup_upload_filelist', []);\n\n          // upload file success\n          self.MoveExtractBackupFile( res.data );\n        }\n      },\n      MoveExtractBackupFile (data) {\n        var self = this;\n\n        window.bbackup_helpers._request({\n          data: { action: 'BBACKUP_Ajax_Handle', handle: 'BBACKUP_Move_Extract_Backup_Upload_File', params: data },\n          success(res) {\n            console.log(res);\n\n            if(res.success == true) {\n              // set step bar\n              self.step_bar_conf.active = 2;\n              self.step_bar_conf.process_completed = 70;\n\n              setTimeout(function() {\n                // set step bar\n                self.step_bar_conf.active = 3;\n                self.step_bar_conf.process_completed = 100;\n                self.LoadBackupData();\n\n                self.$notify({ title: 'Success', message: res.data.message, type: 'success', offset: 100, duration: 5000 });\n              }, 2000)\n            } else {\n              self.$notify({ title: 'Error', message: res.data.message, type: 'error', offset: 100, duration: 5000 });\n            }\n          }\n        })\n      },\n      RestoreData(row) {\n        var self = this;\n        var backup_folder = row.name;\n        self.fullscreenLoading = true;\n        window.bbackup_helpers._request({\n          data: { action: 'BBACKUP_Ajax_Handle', handle: 'BBACKUP_Restore_Data', params: row },\n          success(res) {\n            console.log(res);\n            self.fullscreenLoading = false;\n            if(res.success == true) {\n              self.$notify({ title: 'Success', message: res.data.message, type: 'success', offset: 100, duration: 5000 });\n            } else {\n              self.$notify({ title: 'Error', message: res.data.message, type: 'error', offset: 100, duration: 5000 });\n            }\n          }\n        })\n      }\n    }\n  };\n}\n"],"sourceRoot":""}